<div class="upload-container">
  <h2>PrzesyÅ‚anie pliku ZIP</h2>

  <div class="upload-section">
    <div class="file-input-wrapper">
      <input
        type="file"
        (change)="onFileSelected($event)"
        accept=".zip"
        id="fileInput"
        class="file-input"
      />
      <label for="fileInput" class="file-label">
        ğŸ“ Wybierz plik ZIP
      </label>
      <span class="file-name" *ngIf="selectedFile">
        {{ selectedFile.name }} ({{ formatFileSize(selectedFile.size) }})
      </span>
    </div>

    <button
      (click)="uploadFile()"
      [disabled]="!selectedFile || isUploading"
      class="upload-button"
    >
      {{ isUploading ? 'PrzesyÅ‚anie...' : 'PrzeÅ›lij plik' }}
    </button>
  </div>

  <div class="error-message" *ngIf="errorMessage">
    âš ï¸ {{ errorMessage }}
  </div>

  <div class="response-section" *ngIf="uploadResponse">
    <h3>âœ… {{ uploadResponse.message }}</h3>

    <div class="info-box">
      <p><strong>Nazwa pliku:</strong> {{ uploadResponse.fileName }}</p>
      <p><strong>Rozmiar:</strong> {{ formatFileSize(uploadResponse.fileSize!) }}</p>
      <p><strong>Liczba plikÃ³w:</strong> {{ uploadResponse.filesCount }}</p>
      <p><strong>Przetworzono:</strong> {{ uploadResponse.processedAt | date:'medium' }}</p>
    </div>

    <div class="files-list">
      <h4>Znalezione pliki:</h4>
      <div class="file-item" *ngFor="let file of uploadResponse.files">
        <div class="file-header">
          <span class="file-icon">
            {{ file.fileType === 'JSON' ? 'ğŸ“„' : file.fileType === 'Word Document' ? 'ğŸ“' : file.fileType === 'Certificate' ? 'ğŸ”' : 'ğŸ“' }}
          </span>
          <span class="file-name-display">{{ file.fileName }}</span>
          <span class="file-type-badge">{{ file.fileType }}</span>
        </div>
        <div class="file-details">
          <span>ÅšcieÅ¼ka: {{ file.fullPath }}</span>
          <span>Rozmiar: {{ formatFileSize(file.fileSize) }}</span>
          <span>Skompresowany: {{ formatFileSize(file.compressedSize) }}</span>
          <span>Zmodyfikowano: {{ file.lastModified | date:'short' }}</span>
        </div>
        <div class="file-content" *ngIf="file.content">
          <strong>ZawartoÅ›Ä‡ JSON:</strong>
          <pre>{{ file.content }}</pre>
        </div>
      </div>
    </div>
  </div>
</div>


